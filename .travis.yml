sudo: required
language: node_js
services:
- docker
env:
  global:
  - DOCKER_IMAGE_NAME=futbolito152/gd-client
  - COMMIT=${TRAVIS_COMMIT::8}
  - secure: id3iTYO5MSo+WmcWxJyaZzpfi8kSnGWSFrN/D5M+UnwdULPg0C9PF1vZQWeG/2coKQi8fauYqDr2zkVy+f6jqJdvwrnBTVGdxdRN7Zx738AR7xyO/pLBuQWJZoOhMT05+guScT5VwgzT9Wvb3w67RyJ46EaI4LQewOla1+LcdN09c3mX+OR+5jC0+YNjm3jVSrGj51Z7SPPIfwxpBs/UP78KjlWUCkzQhVA7KCHv9aPl1sQF2C8hN3GKjwK0bccn6UlWa6Ooi43c8Adc/thpYQ4wTETnsan3DsCjoOJv6S9oDqKWZYyA4ubnV/Y2euX6lBCSRZ02rRxObjZIrIlxGIWd84+KxAhMV/LkIte68/hTQoKLfxS7H9k+BKMTb7XWkXxaaXb2XkPSPcnYhU6/UY3PeWrk13pKL9dRPNhMRmNKIVgHDF3CCypozDrWUS2gxyefC+JRxTKVj5jdBAGTtKAYGJmjhvHjGPPixQOnNmLeYgQYvU9qz0JsgDKqf7juDfGbTvujN/sICBuA5UeV3SvRjR6brAtDXaUqBuX1hXXbQ9RB28KHA90+wdK3g0mVDrtDPJe9EePHEY+dRZhuwBGZLLEUedtFb44OKJLMguq4AhX5N+NXN0heQXjL3i4Wpjs99uu/G7gPRZ6y/sRkNyN1hqBXrtaJeHZ+qlXtxso=
  - secure: ldh4L/4mum0VnElv5CLkj9kxPQlkv+VqMTa21bIU4CJhAPOCBgIdxAR+cfosu1nVHEYbw2l73KfhyD+V6VhzY/ZPSAZWCetR+xkz7sEz9s/cT4hDrQLEKQovkOlgSnmf2ixEEb92FK7GVfs2MfmnddNi/AUG8gUwowZRv4e10PsMPBEV81vuqoFiCeWRPm6OZAL8Me8SyMvu6nfGPebhWMEvYlUQGRUQG1y5NX//FPDJyU8cADHOrUSU9GEyy7SeTB98di+h8HsZjR9lUvR3u2ocYBRKewVL2rHxeBpm5FcmxQ7XUXgQ9v3J6HDPr/WuV6svhdDthId7efJSbuESgjqMk52daPpaC6vSWf/b0h80cVEO8tj11CkGvJBGxjPwaU9+OA/hbVr64vkMx4mWyu2yAXun4uje0UuBnRjsfQmN8P+BlxX0z9n+rpwb3vVm8w2z/Bn/GH9h+Fy2z3FEDp99jiuJaOZnIdguHx1mI1Sfm4PSDHyXgad4yqaDwF4eqtsLzfiDID6GsbF+detYL+nMZ0h5/fKM48BNzZwYnwJ7HQ/CHN5+8zma3APKHrEGBI2rYvMLWjcYFG2h33vGG2AtIpR4hIrCg4RNg51K7VsgblqHXCg+kEl+1W5DZxsSdM1bVc76IeYqs5Ky5MxrKCyEQAUwBanmGXQ5omgcDu0=
  - secure: Vj7h88T9mX0KZzDaupFrfu4o4EPlnPvBuULJ6sCop0pIdZDWeqiECTCeuDT8NsYydrRa5h3bP1aNf7b3v21ay18lWJ4Hs9rX6l87q/dDIN4sQBoYfNoTyFO03HN7OF4pmq9vWdO/jrBzytn/0jpZzuyGsR81PJ4DW3QKWF74dH9RnMvIPk6B7GH9t5Mgkv2ad9W+tCaUWWn2Tl3QabO3XxKdp24Wo1TZd02iwCIoDDf6va0mWfg8i7RK3vuhKkHQy9Q5SC1IC8vil8bQNq7NwoTq+fcRTHBrGkn3+7/5NGov2W6zEsNSWxDVz/D8XjJBRH42cfozV5aTayXATO8TU1wHsKKgm03ATjWwdr1O01L9ZJEpqlpUtjs4zWLu9iTgkonLQH8t0kzzJ5pwN3KXkmDrs8p8nlwYtuUYh1Jq6SqI8gSlAwfUkY4/qzDlN7OHte06GMf/nnJUd8aNO9n1r7NQBzMqjb1xzXqA2wdI2E/c7HAG42mC+hn0g/sE33r0LIHI4+lyHIRjqb0CQKPh5tzwNDtwLbCD7pNjhoAq0UubF8SyO6uBYjt+9ZB1T/+X8+6lNB8MpQO0x8hPmlnK9ewVXjTdlHAuFazTycXE32m5pggF/kuH1u5vdFnB1uukKg32WtrHiTe5+Z9yG2ytMe499Iyb/T/CYBZe+LkbSiE=
after_success:
- docker login -e="$DOCKER_EMAIL" -u="$DOCKER_USER" -p="$DOCKER_PASS"
- docker build -f Dockerfile -t $DOCKER_IMAGE_NAME .
- if [ ! -z "$TRAVIS_TAG" ]; then docker tag $DOCKER_IMAGE_NAME:latest $DOCKER_IMAGE_NAME:$TRAVIS_TAG;
  fi
- if [ "$TRAVIS_BRANCH" == "master" ]; then docker push $DOCKER_IMAGE_NAME; fi
